<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="411px" preserveAspectRatio="none" style="width:671px;height:411px;background:#FFFFFF;" version="1.1" viewBox="0 0 671 411" width="671px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="392.8341" style="stroke:#181818;stroke-width:0.5;" width="347" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108" x="120.5" y="19.897">AWS Environment</text><rect fill="#DDDDDD" height="392.8341" style="stroke:#181818;stroke-width:0.5;" width="309.5" x="350" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="458.75" y="19.897">Customer code</text><rect fill="#FFFFFF" height="196.9421" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="291" y="95.4799"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="291" y1="95.4799" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="301" y1="95.4799" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="301" y1="95.4799" y2="95.4799"/><rect fill="#FFFFFF" height="75.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="291" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="291" y1="320.4221" y2="395.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="301" y1="320.4221" y2="395.8341"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="390" y="127.186"/><rect fill="#FFFFFF" height="133.5301" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="588" y="158.892"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="588" y1="158.892" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="598" x2="598" y1="158.892" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="598" y1="158.892" y2="158.892"/><rect fill="#FFFFFF" height="56.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="588" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="588" y1="320.4221" y2="376.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="598" x2="598" y1="320.4221" y2="376.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="598" y1="376.8341" y2="376.8341"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="593" y="284.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="593" y1="284.4221" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="603" x2="603" y1="284.4221" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="603" y1="284.4221" y2="284.4221"/><rect fill="#FFFFFF" height="41.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="593" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="593" y1="320.4221" y2="361.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="603" x2="603" y1="320.4221" y2="361.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="603" y1="361.8341" y2="361.8341"/><rect height="146.5301" style="stroke:#000000;stroke-width:1.5;fill:none;" width="427.5" x="238" y="223.304"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="61.7739" y2="292.4221"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:1.0,4.0;" x1="82" x2="82" y1="292.4221" y2="320.4221"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="320.4221" y2="404.8341"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="296" x2="296" y1="61.7739" y2="292.4221"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:1.0,4.0;" x1="296" x2="296" y1="292.4221" y2="320.4221"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="296" x2="296" y1="320.4221" y2="404.8341"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="395" x2="395" y1="61.7739" y2="292.4221"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:1.0,4.0;" x1="395" x2="395" y1="292.4221" y2="320.4221"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="395" x2="395" y1="320.4221" y2="404.8341"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="592.5" x2="592.5" y1="61.7739" y2="292.4221"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:1.0,4.0;" x1="592.5" x2="592.5" y1="292.4221" y2="320.4221"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="592.5" x2="592.5" y1="320.4221" y2="404.8341"/><rect fill="#FFFFE0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="5" y="27.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="12" y="49.672">Lambda Environment</text><rect fill="#FFFFE0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="248" y="27.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="255" y="49.672">Runtime API</text><rect fill="#ADD8E6" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="354" y="27.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="361" y="49.672">Bootstrap</text><rect fill="#ADD8E6" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="530.5" y="27.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="537.5" y="49.672">Custom Runtime</text><rect fill="#FFFFFF" height="196.9421" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="291" y="95.4799"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="291" y1="95.4799" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="301" y1="95.4799" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="301" y1="95.4799" y2="95.4799"/><rect fill="#FFFFFF" height="75.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="291" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="291" y1="320.4221" y2="395.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="301" x2="301" y1="320.4221" y2="395.8341"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="390" y="127.186"/><rect fill="#FFFFFF" height="133.5301" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="588" y="158.892"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="588" y1="158.892" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="598" x2="598" y1="158.892" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="598" y1="158.892" y2="158.892"/><rect fill="#FFFFFF" height="56.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="588" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="588" y1="320.4221" y2="376.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="598" x2="598" y1="320.4221" y2="376.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="588" x2="598" y1="376.8341" y2="376.8341"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="593" y="284.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="593" y1="284.4221" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="603" x2="603" y1="284.4221" y2="292.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="603" y1="284.4221" y2="284.4221"/><rect fill="#FFFFFF" height="41.412" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="593" y="320.4221"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="593" y1="320.4221" y2="361.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="603" x2="603" y1="320.4221" y2="361.8341"/><line style="stroke:#181818;stroke-width:1.0;" x1="593" x2="603" y1="361.8341" y2="361.8341"/><polygon fill="#181818" points="279,91.4799,289,95.4799,279,99.4799,283,95.4799" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82" x2="285" y1="95.4799" y2="95.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="89" y="89.6709">Environment starts API server</text><polygon fill="#181818" points="378,123.186,388,127.186,378,131.186,382,127.186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82" x2="384" y1="127.186" y2="127.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="89" y="121.377">Environment invokes bootstrap</text><polygon fill="#181818" points="576,154.892,586,158.892,576,162.892,580,158.892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="582" y1="158.892" y2="158.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="402" y="153.083">Bootstrap starts the runtime</text><polygon fill="#181818" points="279,204.304,289,208.304,279,212.304,283,208.304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82" x2="285" y1="208.304" y2="208.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="89" y="184.789">Environment publishes events</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="89" y="202.495">through the REST API</text><path d="M238,223.304 L375,223.304 L375,233.01 L365,243.01 L238,243.01 L238,223.304 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5301" style="stroke:#000000;stroke-width:1.5;" width="427.5" x="238" y="223.304"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="253" y="238.201">Execution loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="390" y="237.0629">[ Repeats until runtime is destroyed ]</text><polygon fill="#181818" points="312,280.4221,302,284.4221,312,288.4221,308,284.4221" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306" x2="592" y1="284.4221" y2="284.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="318" y="260.907">Runtime queries API for next event</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="318" y="278.6131">via REST call</text><polygon fill="#181818" points="312,357.8341,302,361.8341,312,365.8341,308,361.8341" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306" x2="587" y1="361.8341" y2="361.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="318" y="338.3191">Runtime notifies of processing result</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="318" y="356.0251">via REST call</text><line style="stroke:#A80036;stroke-width:2.0;" x1="584" x2="602" y1="376.8341" y2="394.8341"/><line style="stroke:#A80036;stroke-width:2.0;" x1="584" x2="602" y1="394.8341" y2="376.8341"/><!--MD5=[b45f341aef17d2bad7d54c752c7283f7]
@startuml

hide footbox

box "AWS Environment" #White
participant "Lambda Environment" as aws #LightYellow
participant "Runtime API" as api #LightYellow
end box
box "Customer code"
participant "Bootstrap" as bootstrap #LightBlue
participant "Custom Runtime" as runtime #LightBlue
end box

aws - -> api : Environment starts API server
activate api
aws - -> bootstrap : Environment invokes bootstrap
activate bootstrap
bootstrap - -> runtime : Bootstrap starts the runtime
deactivate bootstrap
activate runtime

aws - -> api : Environment publishes events\nthrough the REST API

group Execution loop [ Repeats until runtime is destroyed ]

    api <- runtime : Runtime queries API for next event\nvia REST call
    activate runtime
    ...
    api <- runtime: Runtime notifies of processing result\nvia REST call
    deactivate runtime

end

destroy runtime

@enduml

PlantUML version 1.2022.5(Sat Apr 30 12:55:52 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>